<html>
<head>
<title>Processing 1.0 _ALPHA_ &raquo; Examples &raquo; Helix</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="../../processing.css">

<script language="JavaScript">
<!--
function gogo(dropdown) {
  var tempURL = dropdown.options[dropdown.selectedIndex].value;
  if(tempURL!="") {
    document.location.href = tempURL;
  }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v3.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
//-->
</script>

</head>
<body bgcolor="#FFFFFF" text="#333333" link="#CC6600" vlink="#CC6600" 
               alink="#CC6600" marginwidth="0" marginheight="0" topmargin="0" leftmargin="0">
<table width="750" border="0" cellspacing="0" cellpadding="0" bgcolor="#0">
  <tr>
    <td width="550" colspan="2" bgcolor="#000000">
      <a href="http://processing.org"><img src="../../images/processing.gif" width="500" height="50" align="top" border="0"></a><a name="top"></a></td>
    <td width="180" align="right" valign="top" bgcolor="#000000">
                    <img src="../../images/1pix.gif" width="180" height="5"><br>
                    <a href="../../info.html"><font color="#CC9900">Info</font></a><font color="#666666"> \</font> 
                    <a href="../../faq.html"><font color="#CC9900">FAQ</font></a>
                  </td>
    <td width="20" bgcolor="#000000"><img src="../../images/nav_topright.gif" width="20" height="50"></td>
  </tr></table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="55" bgcolor="#996600"><img src="../../images/nav_midleft.gif" width="55" height="25"></td>
    <td width="675" valign="middle" rowspan="2"><font color="#000000"> </font>       <table = width="675" valign="middle" border="0" cellspacing="0" cellpadding="0">
         <tr>
<td width="1" height="25" bgcolor="#996600"><a href="../../index.html"><font color="#FFFFFF">Cover</font></a>&nbsp;</td>
<td width="1" height="25" bgcolor="#996600"><font color="#663300">\</font>&nbsp;<a href="../../exhibition/index.html"><font color="#FFFFFF">Exhibition</font></a>&nbsp;</td>
<td width="1" height="25" bgcolor="#996600"><font color="#663300">\</font>&nbsp;<font color="#000000">Learning</font>&nbsp;</td>
<td width="1" height="25" bgcolor="#996600"><font color="#663300">\</font>&nbsp;<a href="../../reference/index.html"><font color="#FFFFFF">Reference</font></a>&nbsp;</td>
<td width="1" height="25" bgcolor="#996600"><font color="#663300">\</font>&nbsp;<a href="../../download/index.html"><font color="#FFFFFF">Download</font></a>&nbsp;</td>
<td width="1" height="25" bgcolor="#996600"><font color="#663300">\</font>&nbsp;<a href="../../discourse/index.html"><font color="#FFFFFF">Discourse</font></a>&nbsp;</td>
           <td width="672" height="25" bgcolor="#996600">&nbsp;</td>         </tr>
	    <tr> 
		<td width="1"  height="25">&nbsp;</td>
		<td width="1"  height="25">&nbsp;</td>
		<td width="673" height="25" colspan="5" bgcolor="#CC9900" valign="middle"><font color="#000000"><img src="../../images/nav_bottomarrow.gif" width="33" height="25" align="absmiddle"><a href="../index.html"><font color="#663300">Examples</font></a> 
		<font color="#996600">\ <a href="../tutorials/index.html"><font color="#FFFFFF">Tutorials</font></a></font> 
		<font color="#996600">\ <a href="../courses/index.html"><font color="#FFFFFF">Courses & Workshops</font></a></font></td>
		</tr>
    </table>
	<font color="#000000"> </font></td>
	<td width="20" bgcolor="#996600" valign="top"><img src="../../images/nav_midright.gif" width="20" height="25"></td>
	</tr>
	<tr> 
	<td width="55">&nbsp;</td>
	<td width="20" bgcolor="#CC9900"><img src="../../images/nav_midright.gif" width="20" height="25"></td>
	</tr>
	</table>
	
<table width="750" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
  <tr>
    <td width="55"><img src="../images/1pix.gif" width="55" height="40"></td>
    <td width="695">&nbsp;</td>
  </tr>
  <tr>
    <td width="55" align="right"><a href="typing.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image1','','../images/back_on.gif',1)"><img name="Image1" border="0" src="../images/back_off.gif" width="30" height="30"></a></td>
    <td width="695" valign="middle">
      <table width="3%" border="0" cellspacing="0" cellpadding="0">
        <form>
          <tr>
            <td width="1%" align="right" valign="middle">
      <select name="nav" size="1" class="inputnav" onChange="javascript:gogo(this)">
          <option value="../index.html">Examples Index</option>
          <option value=""></option>    
           <option value="statements_comments.html">Structure : Statements_Comments </option>
           <option value="coordinates.html">Structure : Coordinates </option>
           <option value="width_height.html">Structure : Width_Height </option>
           <option value="setup_loop.html">Structure : Setup_Loop </option>
           <option value="functions.html">Structure : Functions </option>
           <option value="recursion.html">Structure : Recursion </option>
           <option value="objects.html">Structure : Objects </option>
           <option value=""></option>     
           <option value="points_lines.html">Form : Points_Lines </option>
           <option value="shape_primitives.html">Form : Shape_Primitives </option>
           <option value="curve_primitives.html">Form : Curve_Primitives </option>
           <option value="primitives_3d.html">Form : Primitives_3D </option>
           <option value="vertices.html">Form : Vertices </option>
           <option value="vertices_3d.html">Form : Vertices_3D </option>
           <option value="simple_curves.html">Form : Simple_Curves </option>
           <option value=""></option>     
           <option value="variables.html">Data : Variables </option>
           <option value="integers_floats.html">Data : Integers_Floats </option>
           <option value="true_false.html">Data : True_False </option>
           <option value="array.html">Data : Array </option>
           <option value="array_2d.html">Data : Array_2D </option>
           <option value="array_objects.html">Data : Array_Objects </option>
           <option value="characters_strings.html">Data : Characters_Strings </option>
           <option value="datatype_conversion.html">Data : Datatype_Conversion </option>
           <option value="variable_scope.html">Data : Variable_Scope </option>
           <option value=""></option>     
           <option value="iteration.html">Control : Iteration </option>
           <option value="embedded_iteration.html">Control : Embedded_Iteration </option>
           <option value="conditionals_1.html">Control : Conditionals_1 </option>
           <option value="conditionals_2.html">Control : Conditionals_2 </option>
           <option value="logical_operators.html">Control : Logical_Operators </option>
           <option value=""></option>     
           <option value="increment_decrement.html">Calculate : Increment_Decrement </option>
           <option value="modulo.html">Calculate : Modulo </option>
           <option value="operator_precedence.html">Calculate : Operator_Precedence </option>
           <option value="distance_1d.html">Calculate : Distance_1D </option>
           <option value="distance_2d.html">Calculate : Distance_2D </option>
           <option value="sine.html">Calculate : Sine </option>
           <option value="sine_cosine.html">Calculate : Sine_Cosine </option>
           <option value="arctangent.html">Calculate : Arctangent </option>
           <option value="random.html">Calculate : Random </option>
           <option value=""></option>     
           <option value="continuous_lines.html">Drawing : Continuous_Lines </option>
           <option value="pattern.html">Drawing : Pattern </option>
           <option value="vector_raster.html">Drawing : Vector_Raster </option>
           <option value="custom_tool.html">Drawing : Custom_Tool </option>
           <option value=""></option>     
           <option value="displaying.html">Image : Displaying </option>
           <option value="histogram.html">Image : Histogram </option>
           <option value="pixel_array.html">Image : Pixel_Array </option>
           <option value="linear_image.html">Image : Linear_Image </option>
           <option value="transparency.html">Image : Transparency </option>
           <option value="edge_detection.html">Image : Edge_Detection </option>
           <option value="blur.html">Image : Blur </option>
           <option value="extrusion.html">Image : Extrusion </option>
           <option value="zoom.html">Image : Zoom </option>
           <option value="background_image.html">Image : Background_Image </option>
           <option value="sequential.html">Image : Sequential </option>
           <option value="sprite_simple.html">Image : Sprite_Simple </option>
           <option value="sprite.html">Image : Sprite </option>
           <option value="animated_sprite.html">Image : Animated_Sprite </option>
           <option value="alphamask.html">Image : Alphamask </option>
           <option value=""></option>     
           <option value="custom_letter.html">Typography : Custom_Letter </option>
           <option value="custom_alphabet.html">Typography : Custom_Alphabet </option>
           <option value="letters.html">Typography : Letters </option>
           <option value="words.html">Typography : Words </option>
           <option value="kinetic_type.html">Typography : Kinetic_Type </option>
           <option value="typing.html">Typography : Typing </option>
           <option value="helix.html" selected>Typography : Helix </option>
           <option value=""></option>     
           <option value="rgb_cube.html">Color : RGB_Cube </option>
           <option value="hue.html">Color : Hue </option>
           <option value="saturation.html">Color : Saturation </option>
           <option value="brightness.html">Color : Brightness </option>
           <option value="reading.html">Color : Reading </option>
           <option value="creating.html">Color : Creating </option>
           <option value="relativity.html">Color : Relativity </option>
           <option value=""></option>     
           <option value="translate.html">Transform : Translate </option>
           <option value="translate_3d.html">Transform : Translate_3D </option>
           <option value="scale.html">Transform : Scale </option>
           <option value="rotate.html">Transform : Rotate </option>
           <option value="rotate_3d.html">Transform : Rotate_3D </option>
           <option value="push_pop.html">Transform : Push_Pop </option>
           <option value="embedding_push_pop.html">Transform : Embedding_Push_Pop </option>
           <option value=""></option>     
           <option value="linear.html">Motion : Linear </option>
           <option value="bounce.html">Motion : Bounce </option>
           <option value="nonlinear.html">Motion : Nonlinear </option>
           <option value="moving_on_curves.html">Motion : Moving_on_Curves </option>
           <option value="brownian_motion.html">Motion : Brownian_Motion </option>
           <option value="collision.html">Motion : Collision </option>
           <option value=""></option>     
           <option value="mouse_1d.html">Input : Mouse_1D </option>
           <option value="mouse_2d.html">Input : Mouse_2D </option>
           <option value="click.html">Input : Click </option>
           <option value="mouse_signals.html">Input : Mouse_Signals </option>
           <option value="interpolate.html">Input : Interpolate </option>
           <option value="constrain.html">Input : Constrain </option>
           <option value="storing_input.html">Input : Storing_Input </option>
           <option value="mouse_functions.html">Input : Mouse_Functions </option>
           <option value="keyboard.html">Input : Keyboard </option>
           <option value="keyboard_functions.html">Input : Keyboard_Functions </option>
           <option value="seconds_minutes_hours.html">Input : Seconds_Minutes_Hours </option>
           <option value="milliseconds.html">Input : Milliseconds </option>
           <option value=""></option>     
           <option value="loading_images.html">Network : Loading_Images </option>
           <option value="loading_video.html">Network : Loading_Video </option>
           <option value="embedded_links.html">Network : Embedded_Links </option>
           <option value=""></option>     
           <option value="binary_input.html">Tangible : Binary_Input </option>
           <option value="analog_input.html">Tangible : Analog_Input </option>
           <option value="binary_input.html">Tangible : Binary_Input </option>
           <option value=""></option>     
           <option value="loading_quicktime.html">Video : Loading_Quicktime </option>
           <option value="pixels.html">Video : Pixels </option>
           <option value="camera.html">Video : Camera </option>
           <option value=""></option>     
           <option value="spring.html">Simulate : Spring </option>
           <option value="springs.html">Simulate : Springs </option>
           <option value="cellular_automata_1.html">Simulate : Cellular_Automata_1 </option>
           <option value="cellular_automata_2.html">Simulate : Cellular_Automata_2 </option>
           <option value="cellular_automata_3.html">Simulate : Cellular_Automata_3 </option>
           <option value="fluid.html">Simulate : Fluid </option>
           <option value="smoke.html">Simulate : Smoke </option>
           <option value=""></option>     
      </select>            </td>
            <td width="1%" align="right" valign="middle"><a href="rgb_cube.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image2','','../images/next_on.gif',1)"><img name="Image2" border="0" src="../images/next_off.gif" width="30" height="30"></a></td>
          </tr>
        </form>
      </table>
    </td>
  </tr>
  <tr>
    <td width="55"><img src="../images/1pix.gif" width="55" height="30"></td>
    <td width="695">&nbsp;</td>
  </tr>
</table>
<table width="730" border="0" cellspacing="0" cellpadding="0">
  <td width="55"><img src="../../images/1pix.gif" width="55" height="40"></td>
    <td valign="top" width="250"><applet code="g_Helix" archive="media/g_Helix.jar" width="200" height="200">
      </applet><br>
    </td>
    <td width="425" valign="top">
         HELIX TYPEWRITER 1, REV 1 <br>
         by arielm &lt;http://www.chronotext.org&gt; <br>
<br>
         Click in the window to give it focus.          Type to add letters and press backspace to delete.         <br><br>
         <i>Created 28 May 2003 </i><br>
    </td>
  </tr>
  <tr>
    <td><img src="../../images/1pix.gif" width="55" height="40"><br>
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
    <td width="55">
      <img src="../images/1pix.gif" width="55" height="0">
    </td>
    <td width="695">
<pre>// HELIX TYPEWRITER 1, REV 1 
// by arielm &lt;http://www.chronotext.org&gt; 

float fps; 
float fovy, aspect; 
float elevation, azimuth, distance; 
 
Helix teaser, helix; 
Text buffer; 
ScrollBar scrollbar; 
Controller controller; 
 
float x, y, z, turns, r1, r2, h; 
BFont f; 
float sz; 
 
float m; 
 
void setup() 
{ 
  fps = 20.0; 
 
  size(200, 200); 
  framerate(fps); 
 
  fovy = 60.0; 
  aspect = (float)width / (float)height; 
 
  distance = 170.0; 
  elevation = radians(273.0); 
  azimuth = radians(40.0); 
 
  x = 0.0; 
  y = 0.0; 
  z = -36.0; 
  turns = 3.0; 
  r1 = 80.0; 
  r2 = 40.0; 
  h = 104.0; 
 
  // don't forget to have this font included in your "data" folder... 
  f = loadFont("Univers65.vlw.gz");  
  sz = 13.0; 
 
  float t = 5.0;  // time to slide for the teaser (one direction, in seconds)... 
  teaser = new Helix(x, y, z, turns, r1, r2, h, new Text("click here and start typing...", 
                     f, color(102, 102, 102), sz)); 
  float v = -2.0 * teaser.getLength() / (t * fps); 
  float a = -v / (t * fps); 
  teaser.setOffset(Helix.END); 
  teaser.setSlidingSpeed(v); 
  teaser.setSlidingAcceleration(a); 
 
  buffer = new Text("", f, color(0, 0, 0), sz); 
  helix = new Helix(x, y, z, turns, r1, r2, h, buffer); 
  
  scrollbar = new ScrollBar(0.0, 200.0, 200.0, 13.0, ScrollBar.LEFT, ScrollBar.BOTTOM, 
                            ScrollBar.HORIZONTAL, 0.0, helix.getLength() + buffer.getLength(), 
                            0.0, helix.getLength(), color(153, 153, 153), color(224, 224, 224), true); 
 
  // While a scrollbar button is pressed, the text is scrolling 
  // at (4 * fontSize) pixels per second... 
  scrollbar.setUnitIncrement(4.0 * sz / fps);  
 
  controller = new Controller(); 
  buffer.addObserver(controller); 
  scrollbar.addObserver(controller); 
} 
 
void keyPressed() 
{ 
  if (key &gt;= 0x20 && key &lt;= 0x7e) 
  { 
    buffer.add(char(key)); 
  } 
  else if (key == 8) 
  { 
    buffer.delete(1); 
  } 
} 
 
void loop() 
{ 
  background(255); 
  
  scrollbar.run();  // keep it at the beginning... 
  
  noFill(); 
  stroke(204); 
  rect(0, 0, width-1, height-1); 
 
  beginCamera(); 
  perspective(fovy, aspect, 1.0, 1000.0); 
  translate(0.0, 0.0, -distance); 
  rotateX(-elevation); 
  rotateZ(-azimuth); 
  endCamera(); 
 
  teaser.run(); 
  helix.run(); 
 
  scrollbar.draw();  // keep it at the end... 
} 
 
// --- 
 
class Controller implements Observer 
{ 
  public void update(Observable o, Object arg) 
  { 
    if (arg == AbstractSlider.VALUE) 
    { 
      helix.setOffset(-scrollbar.getValue()); 
    } 
    else if (arg == Text.LENGTH) 
    { 
      scrollbar.setMaximum(helix.getLength() + buffer.getLength()); 
      scrollbar.setValue(0.0); 
    } 
  } 
} 
 
// --- 
 
class Helix 
{ 
  static final byte BEGINNING = 0; 
  static final byte END = 1; 
 
  float x, y, z, turns, r1, r2, h; 
 
  Text txt; 
  float offset; 
 
  float d, D, r, l, L, dz, dr; 
  boolean conical; 
  int index; 
  char ch; 
  float w; 
  float rouge, vert, bleu; 
 
  float offset_v, offset_a; 
  
  Helix(float x, float y, float z, float turns, float r1, float r2, float h, Text txt) 
  { 
    this.x = x; 
    this.y = y; 
    this.z = z; 
    this.turns = turns; 
    this.r1 = r1; 
    this.r2 = r2; 
    this.h = h; 
    this.txt = txt; 
  } 
 
  void run() 
  { 
    offset += offset_v; 
    offset_v += offset_a; 
 
    draw(); 
  } 
 
  void draw() 
  { 
    D = offset; 
 
    l = TWO_PI * turns; 
    L = PI * turns * (r1 + r2); 
    dz = h / l; 
 
    // avoids infinity and divisions by zero with cylindrical helices (r1 = r2) 
    conical = (abs(r1 - r2) &gt; 0.5); 
    if (conical) 
    { 
      dr = (r2 - r1) / l; 
    } 
    else 
    { 
      r = r1; 
    } 
 
    index = txt.line.length(); 
    char ch; 
 
    txt.font.size(txt.sz); 
 
    colorMode(RGB, 255, 255, 255, 1); 
    rouge = red(txt.col); 
    vert = green(txt.col); 
    bleu = blue(txt.col); 
 
    while(index &gt; 0) 
    { 
      ch = txt.line.charAt(--index); 
      w = txt.font.width(ch); 
      D += w; 
 
      if (D + w &gt; L) 
      { 
        break; 
      } 
 
</pre>
    </td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55"<img src="../../images/1pix.gif" width="55" height="160"></td>
    <td width="675">&nbsp;</td>
    <td width="20">&nbsp;</td>
  </tr>  <tr> 
    <td width="55" bgcolor="#CC9900" valign="top"><img src="../../images/nav_midleft.gif" width="55" height="25"></td>
    <td width="675" valign="middle" bgcolor="#CC9900"><font color="#663300">&copy; 
      2004 - 2001 Massachusetts Institute of Technology and Interaction Design Institute Ivrea</font></td>
    <td width="20" bgcolor="#CC9900" valign="top"><img src="../../images/nav_midright.gif" width="20" height="25"></td>
  </tr>
  <tr> 
    <td width="55" bgcolor="#996600"><img src="../../images/nav_midleft.gif" width="55" height="25"></td>
    <td width="675" valign="middle" bgcolor="#996600"><font color="#000000">Processing is an open project initiated by</font> 
      <a href="http://acg.media.mit.edu/people/fry"><font color="#FFFFFF">Ben Fry</font></a> <font color="#000000">and</font> 
      <a href="http://www.groupc.net"><font color="#FFFFFF">Casey Reas</font></a></td>
    <td width="20" bgcolor="#996600"><img src="../../images/nav_midright.gif" width="20" height="25"></td>
  </tr>
</table>
</body>
</html>

